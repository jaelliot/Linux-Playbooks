# In the chrome_install role's tasks/main.yml

- name: Import the Google Chrome repository key
  ansible.builtin.rpm_key:
    state: present
    key: "{{ chrome_repo_key_url }}"

- name: Add Google Chrome repository
  ansible.builtin.yum_repository:
    name: google-chrome
    description: Google Chrome YUM repository
    baseurl: "{{ chrome_repo_baseurl }}"
    enabled: yes
    gpgcheck: yes
    repo_gpgcheck: yes
    gpgkey: "{{ chrome_repo_key_url }}"

- name: Install Google Chrome
  ansible.builtin.yum:
    name: google-chrome-stable
    state: present

# Include chrome_settings role
- name: Configure Chrome settings
  import_role:
    name: chrome_settings

# Include chrome_extensions role
- name: Install Chrome extensions
  import_role:
    name: chrome_extensions
